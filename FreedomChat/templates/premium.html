{% extends "base.html" %}

{% block content %}
<div class="dashboard">
    <div class="dashboard-header">
        <div class="header-content">
            <div class="user-info">
                <h1>DELTA Premium</h1>
                <p>
                    {% if user_premium %}
                    ‚≠ê –ü—Ä–µ–º–∏—É–º –∞–∫—Ç–∏–≤–µ–Ω –¥–æ {{ premium_expires.strftime('%d.%m.%Y') }}
                    {% else %}
                    üîí –ë–∞–∑–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
                    {% endif %}
                </p>
            </div>
            <div class="header-actions">
                <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">–ù–∞–∑–∞–¥</a>
            </div>
        </div>
    </div>

    <div class="dashboard-content">
        <!-- –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="card">
            <h3 class="card-title">–í–∞—à –±–∞–ª–∞–Ω—Å</h3>
            <div class="currency-amount">
                {{ current_user.currency }} ‚Ç≥
            </div>
            <p style="text-align: center; color: var(--text-secondary); font-size: 14px;">
                DELTA Coins
            </p>
        </div>

        <!-- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ -->
        <div class="card">
            <h3 class="card-title">–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</h3>
            <form method="POST" action="{{ url_for('buy_currency') }}">
                <div class="form-group">
                    <label class="form-label">–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è</label>
                    <select name="amount" class="form-input" required>
                        <option value="100">100 ‚Ç≥ - 102 —Ä—É–±–ª—è</option>
                        <option value="200">200 ‚Ç≥ - 159 —Ä—É–±–ª–µ–π</option>
                        <option value="500">500 ‚Ç≥ - 549 —Ä—É–±–ª–µ–π</option>
                        <option value="900">900 ‚Ç≥ - 981 —Ä—É–±–ª—å</option>
                        <option value="1000">1000 ‚Ç≥ - 1100 —Ä—É–±–ª–µ–π</option>
                        <option value="10000">10000 ‚Ç≥ - 10010 —Ä—É–±–ª–µ–π</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
                    <div style="display: grid; gap: 8px;">
                        <label class="payment-method">
                            <input type="radio" name="payment_method" value="yoomoney" checked style="transform: scale(1.2);">
                            <div class="payment-icon">–Æ</div>
                            <span>–ÆMoney</span>
                        </label>
                        <label class="payment-method">
                            <input type="radio" name="payment_method" value="card" style="transform: scale(1.2);">
                            <div class="payment-icon">üí≥</div>
                            <span>–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</span>
                        </label>
                        <label class="payment-method">
                            <input type="radio" name="payment_method" value="crypto" style="transform: scale(1.2);">
                            <div class="payment-icon">‚Çø</div>
                            <span>–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞</span>
                        </label>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    –ü–æ–ø–æ–ª–Ω–∏—Ç—å
                </button>
            </form>
        </div>

        <!-- –ü—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞ -->
        <div class="card premium-card" style="grid-column: 1 / -1;">
            <div class="premium-badge">DELTA PREMIUM</div>
            <h3 class="card-title">–ü—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px;">
                {% for months, price in premium_prices.items() %}
                <div style="border: 1px solid var(--delta-border); border-radius: 12px; padding: 24px; text-align: center;">
                    <h4 style="font-size: 18px; margin-bottom: 12px;">{{ months }} –º–µ—Å—è—Ü{% if months > 1 %}–∞{% endif %}</h4>
                    <div style="font-size: 24px; font-weight: 600; color: var(--delta-premium); margin-bottom: 16px;">
                        {{ price }} ‚Ç≥
                    </div>
                    <form method="POST" action="{{ url_for('purchase_premium') }}">
                        <input type="hidden" name="months" value="{{ months }}">
                        <button type="submit" class="btn btn-premium" style="width: 100%;" 
                                {% if current_user.currency < price %}disabled{% endif %}>
                            {% if current_user.currency < price %}–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚Ç≥ {% else %}–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å{% endif %}
                        </button>
                    </form>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–µ–º–∏—É–º–∞ -->
        <div class="card" style="grid-column: 1 / -1;">
            <h3 class="card-title">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ DELTA Premium</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px; margin-top: 20px;">
                <div class="premium-feature">
                    <div class="premium-feature-icon">üìÅ</div>
                    <div class="premium-feature-text">
                        <div class="premium-feature-title">–§–∞–π–ª—ã –¥–æ 2 –ì–ë</div>
                        <div class="premium-feature-desc">–ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã</div>
                    </div>
                </div>
                
                <div class="premium-feature">
                    <div class="premium-feature-icon">üé®</div>
                    <div class="premium-feature-text">
                        <div class="premium-feature-title">–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä—ã</div>
                        <div class="premium-feature-desc">–î–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–º–∏—É–º –Ω–∞–±–æ—Ä–∞–º</div>
                    </div>
                </div>
                
                <div class="premium-feature">
                    <div class="premium-feature-icon">‚ôæÔ∏è</div>
                    <div class="premium-feature-text">
                        <div class="premium-feature-title">–ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è</div>
                        <div class="premium-feature-desc">–°–æ–æ–±—â–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–µ—á–Ω–æ</div>
                    </div>
                </div>
                
                <div class="premium-feature">
                    <div class="premium-feature-icon">‚≠ê</div>
                    <div class="premium-feature-text">
                        <div class="premium-feature-title">–ü—Ä–µ–º–∏—É–º –±–µ–π–¥–∂</div>
                        <div class="premium-feature-desc">–û—Å–æ–±—ã–π —Å—Ç–∞—Ç—É—Å –≤ —á–∞—Ç–∞—Ö</div>
                    </div>
                </div>

                <div class="premium-feature">
                    <div class="premium-feature-icon">üë•</div>
                    <div class="premium-feature-text">
                        <div class="premium-feature-title">–ë–æ–ª—å—à–∏–µ –≥—Ä—É–ø–ø—ã</div>
                        <div class="premium-feature-desc">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –≥—Ä—É–ø–ø—ã –¥–æ 10–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                    </div>
                </div>

                <div class="premium-feature">
                    <div class="premium-feature-icon">üé®</div>
                    <div class="premium-feature-text">
                        <div class="premium-feature-title">–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–µ–º—ã</div>
                        <div class="premium-feature-desc">–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
